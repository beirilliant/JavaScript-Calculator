<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>JavaScript Calculator</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <style type="text/css">

    body {
      background-color: #F0F0F0;
    }

    #frame {
      margin-top: 70px;
      padding: 20px;
      height: 650px;
      width: 500px;
      border: 1px solid #ead3bb;
      border-radius: 25px;
      background-color: #DFD8D0;

    }

    #screen {
      height: 100px;
      width: 80%;
      border: 1px solid #c4c189;
      border-radius:5px;
      margin-bottom: 10px;
      background-color: #C3C2AB;
    }

    .normalSec {
      width: 80%;
    }

    .smallSec {
      width: 60%;
    }

    #verticalDiv {
      position: relative;
      left: -58px;
      top: -1px;
 
    }

    .normalSec, .smallSec, #verticalDiv {
      margin: 0 auto;
      display: flex;
      justify-content: center;
    }

    .btn {
      height: 65px;
      width: 65px;
      margin: 10px 10px;
      border-radius: 10px;
      font-size: 150%;
    
    }

    #equalBtn {

      height: 150px;

    }

    #zeroBtn {
      width: 150px;
    }

    .pull-right {
      float: right;!important
    }

    #topDisplay {

      height: 30%;
      width: 100%;
      font-size: 120%;

    }

    #bottomDisplay {
      height: 65%;
      width: 100%;
      font-size: 300%;

    }

    </style>
  </head>


  <body>
    <div id="frame" class="container center">
      <h2 class="text-center">JavaScript Calculator</h2>
      <h4 class="text-right text-muted">By Bei Wang</h4>
      <div id="screen" class="container center">
        <div id="topDisplay" class="container text-right">
          0
        </div>

        <div id="bottomDisplay" class="container text-right">
          0
        </div>
    </div>

    <div id="flexarea">

      <div class="normalSec">
        <button id="acBtn" class="btn btn-rounded btn-danger">AC</button>
        <button id="ceBtn" class="btn btn-rounded btn-danger">CE</button>
        <button class="btn btn-rounded btn-dark calBtn" value="/" name="&divide;">&divide;</button>
        <button class="btn btn-rounded btn-dark calBtn" value="*" name="&times;">&times;</button>
                
      </div>

      <div class="normalSec">
        <button class="btn btn-rounded btn-dark calBtn" value="7" name="7">7</button>
        <button class="btn btn-rounded btn-dark calBtn" value="8" name="8">8</button>
        <button class="btn btn-rounded btn-dark calBtn" value="9" name="9">9</button>
        <button class="btn btn-rounded btn-dark calBtn" value="-" name="&minus;">&minus;</button>

            
      </div>

      <div class="normalSec">
        <button class="btn btn-rounded btn-dark calBtn" value="4" name="4">4</button>
        <button class="btn btn-rounded btn-dark calBtn" value="5" name="5">5</button>
        <button class="btn btn-rounded btn-dark calBtn" value="6" name="6">6</button>
        <button class="btn btn-rounded btn-dark calBtn" value="+" name="+">+</button>

      </div>

      <div id="verticalDiv" class="pull-right">
        <button id="equalBtn" class="btn btn-rounded btn-dark">=</button>
      </div>

      <div>

        <div class="smallSec">
          <button class="btn btn-rounded btn-dark calBtn" value="1" name="1">1</button>
          <button class="btn btn-rounded btn-dark calBtn" value="2" name="2">2</button>
          <button class="btn btn-rounded btn-dark calBtn" value="3" name="3">3</button>

        </div>

        <div class="smallSec">
          <button id="zeroBtn" class="btn btn-rounded btn-dark calBtn" value="0" name="0">0</button>
          <button class="btn btn-rounded btn-dark calBtn" value="." name=".">.</button>

        </div>

      </div>

    </div>

  </div>

    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script type="text/javascript">

    var arr = [];
    var newArr = [];
    var start = 0;
    var result;

    $(".calBtn").click(function() {

      if (start == 0) {

        if ($.isNumeric($(this).val()) == false) {
          arr.push("0");
          newArr.push("0");
          $("#topDisplay").html("0");

        } else {

        $("#topDisplay").html("");

        }

        start = 1;

      }
      
      if (start == 1) {

        arr.push($(this).val());
        newArr.push($(this).attr("name"));
        
        $("#topDisplay").append($(this).attr("name"));

        if ($.isNumeric($(this).val()) == false && $.isNumeric(arr[arr.length - 2]) == false && arr.length >= 2) {
          arr.splice(-2, 1);
          newArr.splice(-2, 1);
          $("#topDisplay").html(newArr.join(""));
        }
      }
    });

    $("#acBtn").click(function() {
      arr = [];
      newArr = [];
      $("#topDisplay").html("0");
      start = 0;  

    });

    $("#ceBtn").click(function() {
      
      arr.splice(-1, 1);
      newArr.splice(-1, 1);
      if (arr.length == 0) {
        $("#topDisplay").html("0");
        start = 0;
      } else {
      $("#topDisplay").html(newArr.join(""));
      }

    });

    $("#equalBtn").click(function() {
      var str = arr.join("");
      console.log(str);
      result = eval(str);
      $("#topDisplay").html(result);
      arr = [];
      newArr = [];
      arr.push(result);
      newArr.push(result);   

    });

    </script>
  </body>
</html>
